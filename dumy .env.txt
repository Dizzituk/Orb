# Orb Backend Configuration

# =============================================================================
# ROUTER DEBUG MODE
# =============================================================================
# Enable detailed routing diagnostics
# Set to 1 to see complete classification and routing decision chain
# Set to 0 or remove to disable
# 
# When enabled, shows:
# - Message text received by classifier
# - Attachment metadata detected
# - Which classification rules triggered
# - Routing decisions and overrides
# - Final provider/model selection
#
# Recommended: Keep enabled during routing development
ORB_ROUTER_DEBUG=1

# =============================================================================
# MODEL CONFIGURATION
# =============================================================================

# OpenAI Models
OPENAI_MODEL_LIGHT_CHAT=gpt-4.1-mini
OPENAI_MODEL_HEAVY_TEXT=gpt-4.1

# Anthropic Models
ANTHROPIC_SONNET_MODEL=claude-sonnet-4-5-20250929
ANTHROPIC_OPUS_MODEL=claude-opus-4-5-20251101

# Google Gemini Models
GEMINI_VISION_MODEL_FAST=gemini-2.0-flash
GEMINI_VISION_MODEL_COMPLEX=gemini-2.5-pro
GEMINI_VIDEO_HEAVY_MODEL=gemini-2.5-pro
GEMINI_VIDEO_MODEL_COMPLEX=gemini-3-pro
GEMINI_OPUS_CRITIC_MODEL=gemini-3-pro-preview

# =============================================================================
# HIGH-STAKES CRITIQUE PIPELINE (v0.13.2)
# =============================================================================
# 3-step pipeline: Opus draft → Gemini 3 Pro critique → Opus revision
# Triggers when: Anthropic + Opus + high-stakes job + response >= 1500 chars
# High-stakes jobs: security_review, architecture_design, complex_code_change, etc.

# Gemini 3 Pro model for critique (requires billing enabled)
GEMINI_OPUS_CRITIC_MODEL=gemini-3-pro-preview

# Minimum response length to trigger critique (chars, ~375 tokens)
# Default: 1500 (balance between coverage and cost)
ORB_MIN_CRITIQUE_CHARS=1500

# Token limits (cost control)
GEMINI_CRITIC_MAX_TOKENS=1024    # Gemini critique output
OPUS_REVISION_MAX_TOKENS=2048    # Opus revision output

# Debug mode - shows detailed pipeline logs
ORB_ROUTER_DEBUG=1

# =============================================================================
# API KEYS
# =============================================================================

OPENAI_API_KEY=sk-
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Set to enable authentication
# ORB_AUTH_ENABLED=true
# ORB_AUTH_SECRET_KEY=7ba38aa176f2f83a3e981ab4e36ec99d82d97c0c24e2b887d623897f89d27e80

# =============================================================================
# DATABASE
# =============================================================================

# SQLite database path
# DATABASE_URL=sqlite:///./orb.db

# =============================================================================
# CORS
# =============================================================================

# Allowed origins (comma-separated)
# CORS_ORIGINS=http://localhost:5173,http://localhost:3000